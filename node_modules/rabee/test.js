var rb=require('./index.js'); // require('rabee')

class Person extends rb.Domain{

}

$Component((rb)=> class Person {

} )

console.log(Person.ID);

//-----------------Reflection
String.prototype.reduceWhiteSpace = function() {
    return this.replace(/\s+/g, ' ').replace(/^ /,'').replace(/ $/,'');
};

function Camara(fn){
 let _class=fn.toString().toString().replace(/(^.*?\{|\}$)/g, "");
  return {_class:eval(_class),name:getClassName(_class)}
};

var getClassName=function(arrBody){
   arrBody=arrBody.reduceWhiteSpace();
   var startName=arrBody.indexOf('class ')+6;
  var endName=arrBody.indexOf('{',startName);
  return arrBody.substring(startName,endName)//.noSpace();

};

Camara(()=>{

       class Person{

             constructor(id,name){this.id=id;this.name=name;};
              display(){console.log(this.id+'=>'+this.name)}
        };

})
